
const settingsString = `[


{
  "SKLA": {
    "min": 0,
    "max": 0
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": 0,
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": 1000,
    "max": 1000
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": 0,
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": 0,
    "max": 0
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": 0,
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": 0,
    "max": 0
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": 660,
    "max": 660
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "640",
    "max": "1000"
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": 0,
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "640",
    "max": "1000"
  },
  "SKLB": {
    "min": "810",
    "max": "1000"
  },
  "SKLD": {
    "min": 0,
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "690",
    "max": "1000"
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": "480",
    "max": "480"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "690",
    "max": "900"
  },
  "SKLB": {
    "min": "620",
    "max": "620"
  },
  "SKLD": {
    "min": "540",
    "max": "580"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "480",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "390",
    "max": "640"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "0",
    "max": "610"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "430",
    "max": "580"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "0",
    "max": "760"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "320",
    "max": "490"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},



{
  "SKLA": {
    "min": "650",
    "max": "760"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "0",
    "max": "810"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "650",
    "max": "760"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "0",
    "max": "340"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},



{
  "SKLA": {
    "min": "650",
    "max": "760"
  },
  "SKLB": {
    "min": "0",
    "max": "1000"
  },
  "SKLD": {
    "min": "0",
    "max": "340"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "660",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "0",
    "max": "0"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "0",
    "max": "0"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "660",
    "max": "1000"
  },
  "SKLB": {
    "min": "740",
    "max": "740"
  },
  "SKLD": {
    "min": "0",
    "max": "0"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "0",
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "660",
    "max": "1000"
  },
  "SKLB": {
    "min": "740",
    "max": "740"
  },
  "SKLD": {
    "min": "340",
    "max": "450"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "0",
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},



{
  "SKLA": {
    "min": "0",
    "max": "400"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "480",
    "max": "480"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "0",
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},



{
  "SKLA": {
    "min": "340",
    "max": "770"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "480",
    "max": "570"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "0",
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "440",
    "max": "770"
  },
  "SKLB": {
    "min": "540",
    "max": "740"
  },
  "SKLD": {
    "min": "480",
    "max": "570"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": 0
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": "1000"
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},




{
  "SKLA": {
    "min": "0",
    "max": 0
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "520",
    "max": "510"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": "0",
    "max": 0
  },
  "TRMC": {
    "min": "0",
    "max": 0
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "440"
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "1000",
    "max": "1000"
  },
  "SKLB": {
    "min": "700",
    "max": "820"
  },
  "SKLD": {
    "min": 0,
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": 0
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "0",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "350"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": "0",
    "max": 0
  },
  "TRML": {
    "min": "0",
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "0",
    "max": "0"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "350",
    "max": "490"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "0",
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": "320"
  },
  "TRMG": {
    "min": 0,
    "max": 0
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "0",
    "max": "0"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "350",
    "max": "570"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "300",
    "max": "320"
  },
  "TRMG": {
    "min": "1000",
    "max": "1000"
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "0",
    "max": "0"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "350",
    "max": "570"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "300",
    "max": "320"
  },
  "TRMG": {
    "min": "1000",
    "max": "1000"
  },
  "TRMK": {
    "min": "0",
    "max": "0"
  },
  "TRML": {
    "min": "0",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "630",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "0",
    "max": "0"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "0",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "0"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": "0",
    "max": "0"
  },
  "TRML": {
    "min": "1000",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "630",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": "580"
  },
  "SKLD": {
    "min": "0",
    "max": "520"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "0",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "0"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": "0",
    "max": "0"
  },
  "TRML": {
    "min": "1000",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "0",
    "max": "660"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "480",
    "max": "520"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "0",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "230"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": "0",
    "max": "0"
  },
  "TRML": {
    "min": "1000",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": 0,
    "max": "0"
  },
  "SKLB": {
    "min": 0,
    "max": "0"
  },
  "SKLD": {
    "min": "110",
    "max": "220"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": "400",
    "max": "430"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "0",
    "max": "1000"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": "0"
  },
  "TRMG": {
    "min": 0,
    "max": "0"
  },
  "TRMK": {
    "min": "780",
    "max": "1000"
  },
  "TRML": {
    "min": "680",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "0",
    "max": 0
  },
  "SKLB": {
    "min": 0,
    "max": 0
  },
  "SKLD": {
    "min": "0",
    "max": "480"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": 0,
    "max": "0"
  },
  "TRMD": {
    "min": 0,
    "max": 0
  },
  "TRME": {
    "min": 0,
    "max": 0
  },
  "TRMF": {
    "min": "570",
    "max": "570"
  },
  "TRMG": {
    "min": 0,
    "max": "0"
  },
  "TRMK": {
    "min": 0,
    "max": 0
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": 0,
    "max": "0"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": 0,
    "max": "1000"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "1000"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": 0,
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "0"
  },
  "TRMG": {
    "min": 0,
    "max": "0"
  },
  "TRMK": {
    "min": "1000",
    "max": "1000"
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": 0,
    "max": "0"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "1000",
    "max": "1000"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "1000"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": 0,
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "0"
  },
  "TRMG": {
    "min": 0,
    "max": "0"
  },
  "TRMK": {
    "min": "1000",
    "max": "1000"
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "700",
    "max": "700"
  },
  "SKLB": {
    "min": 0,
    "max": "650"
  },
  "SKLD": {
    "min": "630",
    "max": "680"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": "1000"
  },
  "TRMC": {
    "min": "0",
    "max": "340"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": "330"
  },
  "TRMG": {
    "min": "1000",
    "max": "1000"
  },
  "TRMK": {
    "min": 0,
    "max": "50"
  },
  "TRML": {
    "min": "590",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "0",
    "max": "0"
  },
  "SKLB": {
    "min": 0,
    "max": "650"
  },
  "SKLD": {
    "min": "630",
    "max": "680"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": "1000"
  },
  "TRMC": {
    "min": "0",
    "max": "340"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": "330"
  },
  "TRMG": {
    "min": "1000",
    "max": "1000"
  },
  "TRMK": {
    "min": 0,
    "max": "50"
  },
  "TRML": {
    "min": "590",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "1000",
    "max": "1000"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "520",
    "max": "520"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": 0,
    "max": 0
  },
  "TRMC": {
    "min": "0",
    "max": "1000"
  },
  "TRMD": {
    "min": 0,
    "max": "0"
  },
  "TRME": {
    "min": 0,
    "max": "1000"
  },
  "TRMF": {
    "min": 0,
    "max": "320"
  },
  "TRMG": {
    "min": 0,
    "max": "1000"
  },
  "TRMK": {
    "min": 0,
    "max": "0"
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},




{
  "SKLA": {
    "min": "1000",
    "max": "1000"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "0",
    "max": "0"
  },
  "TRMA": {
    "min": "0",
    "max": "0"
  },
  "TRMB": {
    "min": 0,
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": "1000",
    "max": "1000"
  },
  "TRME": {
    "min": "0",
    "max": "0"
  },
  "TRMF": {
    "min": "150",
    "max": "150"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": "0",
    "max": "0"
  },
  "TRML": {
    "min": "1000",
    "max": "1000"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "620",
    "max": "620"
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "420",
    "max": "420"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": 0,
    "max": "0"
  },
  "TRME": {
    "min": "0",
    "max": "1000"
  },
  "TRMF": {
    "min": "640",
    "max": "640"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": 0,
    "max": "0"
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": 0,
    "max": 0
  },
  "SKLB": {
    "min": "1000",
    "max": "1000"
  },
  "SKLD": {
    "min": "550",
    "max": "550"
  },
  "TRMA": {
    "min": 0,
    "max": "0"
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": "1000",
    "max": "1000"
  },
  "TRMD": {
    "min": 0,
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "330",
    "max": "360"
  },
  "TRMG": {
    "min": "1000",
    "max": "1000"
  },
  "TRMK": {
    "min": 0,
    "max": "0"
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "1000",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": "0"
  },
  "SKLD": {
    "min": "440",
    "max": "440"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": "0",
    "max": "0"
  },
  "TRMC": {
    "min": "0",
    "max": "0"
  },
  "TRMD": {
    "min": 0,
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "210"
  },
  "TRMG": {
    "min": "0",
    "max": "1000"
  },
  "TRMK": {
    "min": 0,
    "max": "0"
  },
  "TRML": {
    "min": 0,
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},

{
  "SKLA": {
    "min": "1000",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": 0
  },
  "SKLD": {
    "min": "0",
    "max": 0
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": "0",
    "max": 0
  },
  "TRMD": {
    "min": "0",
    "max": 0
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": 0
  },
  "TRMG": {
    "min": "0",
    "max": 0
  },
  "TRMK": {
    "min": "0",
    "max": "1000"
  },
  "TRML": {
    "min": "0",
    "max": 0
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
},


{
  "SKLA": {
    "min": "1000",
    "max": "1000"
  },
  "SKLB": {
    "min": "0",
    "max": "1000"
  },
  "SKLD": {
    "min": "530",
    "max": "590"
  },
  "TRMA": {
    "min": 0,
    "max": 0
  },
  "TRMB": {
    "min": "1000",
    "max": "1000"
  },
  "TRMC": {
    "min": "0",
    "max": 0
  },
  "TRMD": {
    "min": "0",
    "max": "0"
  },
  "TRME": {
    "min": "1000",
    "max": "1000"
  },
  "TRMF": {
    "min": "0",
    "max": "450"
  },
  "TRMG": {
    "min": "0",
    "max": "0"
  },
  "TRMK": {
    "min": "0",
    "max": "0"
  },
  "TRML": {
    "min": "0",
    "max": "0"
  },
  "BLDA": {
    "min": 0,
    "max": 0
  },
  "BLDB": {
    "min": 0,
    "max": 0
  }
}]`;

const settings = JSON.parse(settingsString);
const s = {
  currentProps: {},
  background: {
    loop: 0,
  },
  color: {
    loop: 0,
    lMin: 80,
    lMax: 100,
    cMin: 10,
    cMax: 24,
    hMin: 0,
    hMax: 360,
  },
  font: {
    loop: 0,
  },
};

export default class {
  async bittyInit() {
    initVars();
    addBaseStyleSheet();
  }

  loadInput(_event, el) {
    const spanMaker = new SpanMaker(el.innerText);
    this.spans = spanMaker.makeParagraphs().makeWords().makeSpans().output();
    this.api.forward(null, "inputPayload");
  }

  inputPayload(_event, el) {
    el.innerHTML = this.spans;

    let options = {
      root: null,
      rootMargin: "1000px 0px",
    };

    let observer = new IntersectionObserver(updateStatus, options);

    document
      .querySelectorAll(`.letter`)
      .forEach((el) => {
        observer.observe(el);
      });
  }

  async startUpdaters(_event, _el) {
    updateBackground();
    updateColors();
    updateFonts();
  }
}

async function updateBackground() {
  setProp(`--background-l`, `${randomInt(7, 10)}%`);
  setProp(`--background-c`, randomInt(12, 40));
  setProp(`--background-h`, randomInt(0, 360));
  await sleep(20000);
  s.background.loop += 1;
  updateBackground();
}

async function updateFonts() {
  setProp(`--font-transition`, `6000ms`);
  if (s.font.loop === 0) {
    setFontTo(0);
  } else {
    setFontTo(randomInt(0, listOfVars().length - 1));
  }
  await sleep(6700);
  s.font.loop += 1;
  updateFonts();
}

async function updateColors() {
  if (s.color.loop <= 3) {
    setProp(`--color-transition`, `4000ms`);
    s.color.cMin = 10 + (s.color.loop * 5);
    s.color.cMax = 14 + (20 * s.color.loop);
  } else {
    s.color.cMin = 0;
    s.color.cMax = 140;
  }
  const chroma = randomInt(s.color.cMin, s.color.cMax);
  for (let char of listOfLetters()) {
    // gotta sleep otherwise chrome batches
    // the updates in oneshot
    await sleep(10);
    const lKey = `--color-l-${char}`;
    const lValue = `${randomInt(86, 96)}%`;
    setProp(lKey, lValue);
    const cKey = `--color-c-${char}`;
    const cValue = chroma;
    setProp(cKey, cValue);
    const hKey = `--color-h-${char}`;
    const hValue = randomInt(0, 360);
    setProp(hKey, hValue);
  }
  await sleep(5200);
  s.color.loop += 1;
  updateColors();
}

async function setFontTo(fontIndex) {
  for (let v of listOfVars()) {
    const key = `--${v}`;
    const value = settings[fontIndex][v]["min"];
    setProp(key, value);
  }
}

function addBaseStyleSheet() {
  const css = new CSSStyleSheet();
  let styles = [];
  const variations = listOfVars().map((variation) => {
    const varString = `"${variation}" var(--${variation})`;
    return varString;
  });
  styles.push(`.active.letter, .active.letter-alt {`);
  styles.push(`transition:`);
  styles.push(`color var(--color-transition)`);
  styles.push(`,`);
  styles.push(
    `font-variation-settings var(--font-transition)`,
  );
  styles.push(`;`);
  styles.push(`font-variation-settings: `);
  styles.push(variations.join(","));
  styles.push(";");
  styles.push("} ");
  for (let char of listOfLetters()) {
    styles.push(`.active.letter-${char} {`);
    styles.push(`font-size: var(--font-size-${char});`);
    styles.push(
      `color: lch(var(--color-l-${char}) var(--color-c-${char}) var(--color-h-${char}) );`,
    );
    styles.push("}");
  }
  const output = styles.join("\n");
  css.replaceSync(output);
  document.adoptedStyleSheets.push(css);
}

async function setProp(key, value) {
  if (s.currentProps[key] !== value) {
    document.documentElement.style.setProperty(
      key,
      value,
    );
  }
}

async function initVars() {
  setProp(
    `--background-transition`,
    `17000ms`,
  );
  setProp(`--color-easing`, `linear`);
  setProp(`--background-easing`, `linear`);
  setProp(`--color-transition`, `6000ms`);
  setProp(`--font-transition`, `5000ms`);
  for (let v of listOfVars()) {
    setProp(`--${v}`, 0);
  }

  for (let char of listOfLetters()) {
    setProp(`--font-size-${char}`, `${randomFloat(1.7, 2.9)}rem`);
    setProp(`--color-l-${char}`, `0%`);
    setProp(`--color-c-${char}`, 0);
    setProp(`--color-h-${char}`, 0);
  }
}

function listOfLetters() {
  const letters = [...Array(26)].map((_, i) =>
    String.fromCharCode("a".charCodeAt(0) + i)
  );
  shuffleArray(letters);
  return letters;
}

function shuffleArray(array) {
  let currentIndex = array.length;
  let randomIndex;
  while (currentIndex != 0) {
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;
    [array[currentIndex], array[randomIndex]] = [
      array[randomIndex],
      array[currentIndex],
    ];
  }
}

function listOfVars() {
  return Object.keys(settings[0]);
}

function sleep(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms));
}

function randomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

function randomFloat(min, max) {
  return (Math.random() * (max - min)) + min;
}

function updateStatus(entries, observer) {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      entry.target.classList.add(`active`);
    } else {
      entry.target.classList.remove(`active`);
    }
  });
}
const SpanMaker = class {
  constructor(text) {
    this.text = text;
    this.textParagraphs = [];
    this.wordParagraphs = [];
    this.spanParagraphs = [];
  }

  isLetter(char) {
    let code = char.charCodeAt(0);
    return (code >= 65 && code <= 90) || (code >= 97 && code <= 122);
  }

  makeParagraphs() {
    let parasIndex = 0;
    this.text.split("\n").forEach((line) => {
      if (!this.textParagraphs[parasIndex]) {
        this.textParagraphs.push("");
      }
      if (line.trim() === "") {
        parasIndex += 1;
      } else {
        this.textParagraphs[parasIndex] += `${line} `;
        // console.log(`LINE: ${line}`);
      }
    });
    return this;
  }

  makeWords() {
    // The word split was originally done so spans
    // could be switch to `display: inline-block` to
    // allow them to be rotated. Decided against
    // the rotation after playing with a little,
    // but leaving the word split in anyway.
    this.wordParagraphs = this.textParagraphs.map((para) => {
      return para
        //.replaceAll(`"`, "")
        // .replaceAll(`?`, "")
        .replaceAll(`-`, " ")
        // .replaceAll(`)`, "")
        // .replaceAll(`(`, "")
        .replaceAll(/\s\s+/g, " ").split(" ");
    });
    return this;
  }

  makeSpans() {
    this.spanParagraphs = this.wordParagraphs.map((para) => {
      let content = para.map((word) => {
        let content2 = [
          `<div class="word">`,
          word.trim().split("").map((char) => {
            if (this.isLetter(char)) {
              return [
                `<span class="letter letter-`,
                char.toLowerCase(),
                `">`,
                char,
                `</span>`,
              ].join("");
            } else {
              return [
                `<span class="letter-alt letter-q">`,
                char,
                `</span>`,
              ].join("");
            }
          }).join(""),
          `</div>`,
        ].join("");
        return content2;
      }).join(``);
      return content;
    });
    return this;
  }

  output() {
    return `<div class="pAlt">${
      this.spanParagraphs.join(
        '</div><div class="pAlt">',
      )
    }</div>`;
  }
};

// Hey there!
//
// Welcome to the code! This project involved a lot
// of prototyping. There's a bunch of
// cruft left over from that. Other than that
// the big thing to know is that this I'm
// using bitty for this `https://bitty.alanwsmith.com`.
// It's the first real thing I've built with it.
// Helped me refine a bunch. I really like
// the way it's working.
